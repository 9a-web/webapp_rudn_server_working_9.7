# ‚úÖ –¢–µ—Å—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –∑–∞–¥–∞—á - –ò–°–ü–†–ê–í–õ–ï–ù–û (06.11.2024)

## üéØ –°—Ç–∞—Ç—É—Å: Drag and Drop —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è drag and drop —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤:
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–µ "–°–µ–≥–æ–¥–Ω—è" (–ª–µ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞)
- ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–º —Å–ø–∏—Å–∫–µ –∑–∞–¥–∞—á (–ø—Ä–∞–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç TaskGroup)

---

## üìã –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞
–í –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ø–∏—Å–∫–µ –∑–∞–¥–∞—á (TaskGroup) –±—ã–ª –≤–ª–æ–∂–µ–Ω–Ω—ã–π `Reorder.Item` –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–æ–≥–æ `Reorder.Item` –¥–ª—è drag handle, —á—Ç–æ –¥–µ–ª–∞–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º.

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `TaskGroupItem` —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ `useDragControls` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `TodayTaskItem`).

---

## –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `id`
- [ ] `todayTasks` —ç—Ç–æ –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞–¥–∞—á
- [ ] –ó–∞–¥–∞—á–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ `values` –≤ Reorder.Group

### 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Framer Motion
- [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω `Reorder` –∏ `useDragControls`
- [x] `Reorder.Group` –æ–±–µ—Ä–Ω—É—Ç –≤–æ–∫—Ä—É–≥ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á
- [x] `Reorder.Item` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- [x] `dragControls` —Å–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `useDragControls()`

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Reorder.Item
- [x] `value={task}` - –ø–µ—Ä–µ–¥–∞–Ω –æ–±—ä–µ–∫—Ç –∑–∞–¥–∞—á–∏
- [x] `dragListener={false}` - –æ—Ç–∫–ª—é—á–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ª—É—à–∞—Ç–µ–ª—å
- [x] `dragControls={dragControls}` - –ø–µ—Ä–µ–¥–∞–Ω –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
- [x] –ù–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ `key` –∞—Ç—Ä–∏–±—É—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### 4. Drag Handle
- [x] `onPointerDown` —Å –≤—ã–∑–æ–≤–æ–º `dragControls.start(e)`
- [x] `e.stopPropagation()` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- [x] `touchAction: 'none'` –≤ style
- [x] `touch-none` –∏ `select-none` –∫–ª–∞—Å—Å—ã

### 5. –°—Ç–∏–ª–∏ –∏ –∫–ª–∞—Å—Å—ã
- [x] –£–±—Ä–∞–Ω `overflow-y-auto` —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- [x] `list-none` –Ω–∞ Reorder.Group
- [x] `listStyle: 'none'` –Ω–∞ Reorder.Item
- [x] `mb-2` –¥–ª—è spacing –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

### 6. Callback —Ñ—É–Ω–∫—Ü–∏—è
- [x] `onReorder={handleReorderTasks}` –Ω–∞ Reorder.Group
- [x] `handleReorderTasks` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ï—Å–ª–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ DevTools:**
   ```javascript
   // –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
   console.log('Tasks:', todayTasks);
   console.log('Each task has id:', todayTasks.every(t => t.id));
   ```

2. **CSS –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ `pointer-events: none` –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç `overflow: hidden` –≤—ã—à–µ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å z-index —ç–ª–µ–º–µ–Ω—Ç–æ–≤

3. **Event listeners:**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö `onClick` –∏–ª–∏ `onPointerDown` –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `preventDefault()` –≥–¥–µ-—Ç–æ –≤—ã—à–µ

4. **Framer Motion version:**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–µ—Ä—Å–∏—è >= 10.0.0
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `grep framer-motion package.json`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í—Ä—É—á–Ω—É—é:
1. –û—Ç–∫—Ä—ã—Ç—å —Ä–∞–∑–¥–µ–ª "–°–ø–∏—Å–æ–∫ –¥–µ–ª"
2. –ù–∞–π—Ç–∏ –∫–∞—Ä—Ç–æ—á–∫—É "–°–µ–≥–æ–¥–Ω—è"
3. –ù–∞–∂–∞—Ç—å –∏ —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏–∫–æ–Ω–∫—É –∏–∑ 3 –ø–æ–ª–æ—Å–æ–∫ (GripVertical)
4. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É –≤–≤–µ—Ä—Ö –∏–ª–∏ –≤–Ω–∏–∑
5. –û—Ç–ø—É—Å—Ç–∏—Ç—å - –∑–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞—Ç—å—Å—è –Ω–∞ –Ω–æ–≤–æ–º –º–µ—Å—Ç–µ

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å:
- ‚úÖ Haptic feedback –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
- ‚úÖ –ö—É—Ä—Å–æ—Ä –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `grabbing`
- ‚úÖ –ó–∞–¥–∞—á–∞ —Å–ª–µ–¥—É–µ—Ç –∑–∞ –∫—É—Ä—Å–æ—Ä–æ–º/–ø–∞–ª—å—Ü–µ–º
- ‚úÖ –î—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏ —Å–¥–≤–∏–≥–∞—é—Ç—Å—è, –æ—Å–≤–æ–±–æ–∂–¥–∞—è –º–µ—Å—Ç–æ
- ‚úÖ –ü–æ—Å–ª–µ –æ—Ç–ø—É—Å–∫–∞–Ω–∏—è –∑–∞–¥–∞—á–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤–æ–º –º–µ—Å—Ç–µ
- ‚úÖ –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏

## –û—Ç–ª–∞–¥–∫–∞

### Console logs –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```javascript
// –î–æ–±–∞–≤–∏—Ç—å –≤ handleReorderTasks
console.log('Reorder triggered', {
  oldOrder: todayTasks.map(t => t.id),
  newOrder: newOrder.map(t => t.id)
});
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ dragControls:
```javascript
// –í TodayTaskItem
console.log('Drag start', task.id);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±—ã—Ç–∏—è:
```javascript
// –í onPointerDown
console.log('Pointer down on task:', task.id, e);
```
