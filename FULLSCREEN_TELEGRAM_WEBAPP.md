# üì± Full Screen Telegram Web App - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω **–ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º** –¥–ª—è Telegram Web App —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ Telegram WebApp API.

## ‚≠êÔ∏è –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. TelegramContext.js - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Full Screen

**–§–∞–π–ª:** `/app/frontend/src/contexts/TelegramContext.js`

#### –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–í—ã–∑–æ–≤ `tg.expand()`** - –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è WebApp –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
   ```javascript
   tg.expand();
   ```

2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ expand()** - –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 50ms, 200ms –∏ 500ms
   - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ WebApp —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –¥–∞–∂–µ –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ API

3. **–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö —Å–≤–∞–π–ø–æ–≤**
   ```javascript
   tg.disableVerticalSwipes();
   ```
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

4. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è**
   ```javascript
   tg.enableClosingConfirmation();
   ```
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞

5. **CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Telegram viewport**
   ```javascript
   document.documentElement.style.setProperty('--tg-viewport-height', `${tg.viewportHeight}px`);
   document.documentElement.style.setProperty('--tg-viewport-stable-height', `${tg.viewportStableHeight}px`);
   ```
   - –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é –≤—ã—Å–æ—Ç—É viewport –æ—Ç Telegram API
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)

6. **–°–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏—è viewportChanged**
   ```javascript
   tg.onEvent('viewportChanged', handleViewportChanged);
   ```
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è viewport –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

7. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–≤–µ—Ç–æ–≤ —Ç–µ–º—ã**
   - Header color: `#1C1C1E`
   - Background color: `#1C1C1E`
   - Bottom bar color: `#1C1C1E`
   - –°–æ–∑–¥–∞–µ—Ç –µ–¥–∏–Ω—ã–π —Ç–µ–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑ –≤–∏–¥–∏–º—ã—Ö –≥—Ä–∞–Ω–∏—Ü

8. **–£–¥–∞–ª–µ–Ω–æ:** `requestFullscreen()` API
   - –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è Telegram WebApp
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞—Ç–∏–≤–Ω—ã–π Telegram API

### 2. index.css - CSS –¥–ª—è Full Screen

**–§–∞–π–ª:** `/app/frontend/src/index.css`

#### –î–æ–±–∞–≤–ª–µ–Ω—ã CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```css
:root {
  --tg-viewport-height: 100vh;
  --tg-viewport-stable-height: 100vh;
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞:

**html, body, #root:**
```css
height: var(--tg-viewport-height, 100vh);
min-height: var(--tg-viewport-height, 100vh);
```

**body:**
- –£–¥–∞–ª–µ–Ω—ã safe area paddings (`padding: 0`)
- Telegram —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç safe area
- –ß–∏—Å—Ç—ã–π full screen –±–µ–∑ –æ—Ç—Å—Ç—É–ø–æ–≤

**.telegram-webapp –∫–ª–∞—Å—Å:**
- –¢–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `--tg-viewport-height`
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 3. App.js - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–§–∞–π–ª:** `/app/frontend/src/App.js`

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
```javascript
// –ë—ã–ª–æ:
<div className="min-h-screen bg-background telegram-webapp relative">

// –°—Ç–∞–ª–æ:
<div className="h-full min-h-screen bg-background telegram-webapp relative">
```

- –î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å `h-full` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è 100% –≤—ã—Å–æ—Ç—ã —Ä–æ–¥–∏—Ç–µ–ª—è
- –†–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ —Å `--tg-viewport-height` –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

### 4. index.html - Viewport –º–µ—Ç–∞-—Ç–µ–≥

**–§–∞–π–ª:** `/app/frontend/public/index.html`

–£–∂–µ –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
```html
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
```

- `viewport-fit=cover` - –≤–∞–∂–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç—É —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è –Ω–∞ –≤—Å—é –æ–±–ª–∞—Å—Ç—å —ç–∫—Ä–∞–Ω–∞

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å:

1. ‚úÖ **–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω Telegram
2. ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞** - –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º viewport (–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, –ø–æ–≤–æ—Ä–æ—Ç)
3. ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–∫—Ä—ã—Ç–∏—è** - –æ—Ç–∫–ª—é—á–µ–Ω—ã —Å–≤–∞–π–ø—ã, –≤–∫–ª—é—á–µ–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
4. ‚úÖ **–ù–∞—Ç–∏–≤–Ω—ã–π –≤–∏–¥** - —Ç–µ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ header/background —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å Telegram UI
5. ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
6. ‚úÖ **iOS safe area** - Telegram —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—Å—Ç—É–ø–∞–º–∏ –¥–ª—è –≤—ã—Ä–µ–∑–æ–≤ —ç–∫—Ä–∞–Ω–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

- **Telegram WebApp API –≤–µ—Ä—Å–∏—è:** `6.0+`
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç–æ–¥—ã:**
  - `tg.expand()` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è full screen
  - `tg.isExpanded` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
  - `tg.viewportHeight` - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞ viewport
  - `tg.viewportStableHeight` - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ (–±–µ–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
  - `tg.disableVerticalSwipes()` - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–≤–∞–π–ø–æ–≤
  - `tg.enableClosingConfirmation()` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:

```
üöÄ Telegram WebApp initialized: {
  platform: "tdesktop/ios/android",
  version: "7.0",
  isExpanded: true,
  viewportHeight: 844,
  viewportStableHeight: 844,
  user: {...}
}

‚úÖ WebApp —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
‚úÖ –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å–≤–∞–π–ø—ã –æ—Ç–∫–ª—é—á–µ–Ω—ã
‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è –≤–∫–ª—é—á–µ–Ω–æ
üìê Viewport –∏–∑–º–µ–Ω–µ–Ω: 600px (–ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
```

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å full screen:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (–¥–ª—è Telegram Desktop)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `isExpanded: true`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω –±–µ–∑ –æ—Ç—Å—Ç—É–ø–æ–≤
5. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É - viewport –¥–æ–ª–∂–µ–Ω –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è
6. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≤–∞–π–ø –≤–Ω–∏–∑ - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–≤–Ω–µ Telegram):

- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ `100vh` –≤–º–µ—Å—Ç–æ Telegram viewport
- Mock –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **Safe Area Insets** - –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è iOS:
   ```css
   padding-top: max(env(safe-area-inset-top), var(--tg-content-safe-area-inset-top, 0px));
   ```

2. **Vertical Swipes –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:**
   - –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ —Å–ø–∏—Å–∫–æ–≤
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `touch-action: pan-y` –Ω–∞ –Ω—É–∂–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è expand:**
   - –î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞–≤–Ω—É—é –∞–Ω–∏–º–∞—Ü–∏—é –ø—Ä–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏
   - CSS transitions –¥–ª—è `height` –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Telegram WebApp API

- [Telegram WebApp Documentation](https://core.telegram.org/bots/webapps)
- [WebApp Methods](https://core.telegram.org/bots/webapps#initializing-web-apps)
- [Viewport Height](https://core.telegram.org/bots/webapps#viewport)

## ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –í–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å |
|-----------|--------|--------|
| Telegram iOS | 9.0+ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| Telegram Android | 9.0+ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| Telegram Desktop | 4.0+ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| Telegram Web | 7.0+ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |

---

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** $(date +%Y-%m-%d)  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
